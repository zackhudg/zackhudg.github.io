<!doctype html>
<html>
  <head>
    <title>Landing page</title>
    
  </head>

  <body>
    
  </body>

  <script>

    var clientID = "2377d92b35a84c44ba11534ab4c7b0cf";
    var secretKey = "b4c547d0ad374d80952d06b492e046b5";
    var myRequest = new XMLHttpRequest();
    myRequest.open("POST", "https://api.spotify.com/api/token"); 
    myRequest.setRequestHeader("content-type", "application/json");
    myRequest.setRequestHeader("authorization", "Basic " + clientID + ":" + secretKey);
    var jsonstring = JSON.stringify({"grant-type":"authorization_code","code":window.location.search.substr(6),"redirect_uri":"http://zackhudg.github.io/landingPage.html"})
    myRequest.send(jsonstring);
    var token = myRequest.body;
    console.log(token);

    //myRequest = new XMLHttpRequest();
    //myRequest.open("GET", "https://api.spotify.com/v1/me/albums"); // "https://mdn.github.io/fetch-examples/fetch-request/flowers.jpg"
    //myRequest.setRequestHeader("Content-Type","application/json");
    //myRequest.setRequestHeader("Authorization","Bearer " + token);
    //myRequest.send();

    myRequest.onload = function(){
      if(myRequest.status == 200){
        data = JSON.parse(myRequest.responseText);
        console.log(data);
      }else{
        console.log("nothing");
      }
    }

    

    function addToQueue(){
        request({url:"https://api.spotify.com/v1/me/albums"}, function(res,err){
            if(res){
                var albums = JSON.parse(res.body);
                console.log(albums)
            }
        });
    }

    
  </script>
</html>

